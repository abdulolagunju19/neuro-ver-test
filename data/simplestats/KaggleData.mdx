---
title: 'An analysis of a dataset from Kaggle'
publishedAt: '2021-05-19'
summary: 'I provide a detailed tutorial on using python to deal with a dataset from kaggle.'
---

# Tutorials

Let's take a look at a kaggle dataset about medical insurance. This will be a brief introduction on the functions I use in python to analyze data.

So, I like to use spyder to perform my analyses. To download spyder, I just downloaded anaconda. This video explains it pretty well for windows 10 users: 
[Link](https://youtu.be/5mDYijMfSzs) 

Let's begin!

So, the first thing I like to do is download the dataset I would like to look into. For now, I mainly use csv files. To easily use them in my code, I created a repository in my Github account that contains the csv files I downloaded from kaggle. 

To create a repository on github, first you must create an account on github. It should be smooth sailing from there, and I don't think I need to go further into that. Email me if you have any problems.

Now, look through kaggle and download the dataset you like. Unfortunately, Github only takes csv files that are less than 25mb.

Here is the link to the dataset I used: [medical insurance](https://www.kaggle.com/mirichoi0218/insurance)

Now that you have spyder and the csv file you need in you repository, click on the csv file on github. Then, click raw. Copy the URL, and we are ready to get to work.
This video explains getting the kaggle url: [Link](https://youtu.be/jDaWna1IRmY)


```javascript:hello.js
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np
from scipy import stats
import random
#don't want to see warnings on the console, usually about old functions like distplot
import warnings
warnings.filterwarnings('ignore') 

#pass in dataframe (df) csv file from github
df = pd.read_csv("https://raw.githubusercontent.com/abdulolagunju19/csv_files/main/insurance.csv")

#let's quickly look at a summary of the dataset
print(df.info())
#let's see total number of (rows,columns)
print(df.shape) #1338 rows, 7 columns
#take a look at columns
print(df.columns)
#let's take a quick look at a description of the dataset
print(df.describe(include="all")) #looks like  there are no missing values
#take a look at first 5 rows of data
print(df.head()) 
print("\n")
#lets check for duplicate rows
num_dup_rows = len(df) - len(df.drop_duplicates(keep="first"))

if num_dup_rows!= 0:
    print("Number of duplicate rows found : {}\n\nDuplicates removed!".format(num_dup_rows))
    df.drop_duplicates(keep="first",inplace=True)
else:
    print("No duplicate entries found!")

#lets make bar plots for the categorical variables
for variable in ['sex', 'children', 'smoker', 'region']:
    #the random.randint is generating colours for our plots, use count plot
    fig = sns.catplot(x=variable,data=df,kind="count",palette="Set"+
                      str(random.randint(1,3)),height=2.5,aspect=2, ci ="sd")

plt.figure()
sns.distplot(df["age"]) #why are insurance companies dealing mainly with young people?

plt.figure()
sns.distplot(df["bmi"]) #nice normal distribution

plt.figure()
sns.distplot(df["charges"])

#lets take a look at the heatmap
plt.figure()
sns.heatmap(df.corr(), annot=True, linewidths=.5, fmt= '.1f') #so charges and age look to be the most correlated

#let's make a scatter plot to take a closer look at the charges and age relationship
plt.figure()
sns.scatterplot(data = df, x = "age", y = "charges", hue = "bmi")
plt.title('Age and Charges Scatter Plot')   

plt.figure()
sns.boxplot(x="age", y="charges", data = df) #not a great plot, can't tell what's going on

#take a deeper look at statistics for each age
print(df.groupby("age").mean())
```

